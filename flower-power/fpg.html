<HTML>

<HEAD>
<script type="text/javascript" src="fpg.js"></script>
</HEAD>

<div class="slider-container">
  <form id="myForm">
    <div>
        <input type="range" class="slider" min="50" max="150" value="80" data-slider-id="1" name="petal_thickness">
        <div class="slider-value">Petal Thickness: <span id="petal-thickness-value" class="slider-value">80</span></div>
    </div>
    <div>
        <input type="range" class="slider" min="50" max="200" value="60" data-slider-id="2" name="gravity">
        <div class="slider-value">Gravity: <span id="gravity-value" class="slider-value">140</span></div>
    </div>
    <div>
         <label for="word_length">Word Length:</label>
          <select id="3" name="word_length">
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
          </select>
    </div>
    <div>
        <label for="petals">Petals:</label>
          <select id="4" name="petals">
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18" selected>18</option>
          </select>
    </div>
  </form>
</div>

<div id="test"></div>

<script type="text/javascript">
// Get the form and change log container
const form = document.getElementById('myForm');

// Function to process changes
function processChange(event) {
    const petals = parseInt(form.elements['petals'].value);
    const word_length = parseInt(form.elements['word_length'].value);
    const petal_thickness = parseInt(form.elements['petal_thickness'].value);
    const gravity = parseInt(form.elements['gravity'].value);

    // update the displayed values
    document.getElementById('gravity-value').innerHTML = gravity;
    document.getElementById('petal-thickness-value').innerHTML = petal_thickness;

    var font_size = 14;
    var number_margin = 5;

    var r = create_flower_power_svg(petals, word_length, petal_thickness, gravity, font_size, number_margin);
    //console.log(r);
    document.getElementById('test').innerHTML = r;

}

form.addEventListener('input', processChange);
form.addEventListener('change', processChange);

processChange(0);
</script>

</BODY>
</HTML>
