<!DOCTYPE html>
<html lang="en">
<!--
* (c) 2024, Crossword Nexus
* MIT License https://mit-license.org/
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crossword Nexus Variety Solver</title>
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Overlay for opening puzzles -->
    <!--
    <div class="cw-open-holder">
      <div class="cw-overflow"></div>
      <div class="cw-open-puzzle">
        <div class="cw-open-puzzle-instructions">
          Drag and drop a file here, or click the button to choose a file
          to open.
        </div>
        <button type="button" class="cw-button info-button">
          Open vPuz file
        </button>
      </div>
      <input type="file" class="cw-open-vpuz" accept=".vpuz">
    </div>
    -->
    <div id="container">
        <div id="puzzle-image-container">
            <img id="puzzle-image" alt="Puzzle Image">
            <canvas id="canvas"></canvas>
            <div class="button-container">
                <button class="info-button" id="infoButton">Show Puzzle Info</button>
            </div>
        </div>
        <div id="clue-panels">
            <div id="clues-0" class="clue-panel">
                <h2 id="clues-0-title"></h2>
                <ul class="clue-list" id="clue-list-0">
                </ul>
            </div>
            <div id="clues-1" class="clue-panel">
                <h2 id="clues-1-title"></h2>
                <ul class="clue-list" id="clue-list-1">
                </ul>
            </div>
        </div>
    </div>

    <div class="modal" id="infoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-title"></h2>
                <span class="modal-close" id="closeModal">&times;</span>
            </div>
            <div class="modal-body" id="modal-body">
            </div>
        </div>
    </div>

    <script src="script.js"></script>

    <script type="text/javascript">
    /** Stuff to run once the document is ready **/
    document.addEventListener('DOMContentLoaded', function() {

      // check that fetch is enabled
      if(typeof window.fetch !== "function") {
        alert('Please upgrade to a modern browser');
      }

      // Grab puzzle from query string if available
      var url = new URL(window.location.href);
      var puzzle = url.searchParams.get("puzzle");
      if (!puzzle) puzzle = url.searchParams.get("file");

      // We default to the flower power puzzle if one is not there
      if (!puzzle) puzzle = "flowerpower.vpuz";

      loadPuzzle(puzzle);

    }); // end document ready
    </script>

</body>
</html>
