<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Acrostic Machine</title>
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css" />
    <link rel="stylesheet" href="styles.css" />
    <!-- Pako for unzipping -->
    <script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
  </head>
  <body>
	<!-- modal box placeholder -->
    <div class="cw-modal" id="cw-modal"></div>
    <div class="container">
      <h2>The Acrostic Machine</h2>

      <div class="row">
        <a href="https://www.youtube.com/watch?v=DLFDL4nQ1iM">How-To Video</a> •
        <a href="https://github.com/crosswordnexus/variety-tools/blob/main/acrostic/acrostic_ilp.py">Source code</a> •
        <a href="mailto:crosswordnexus@gmail.com">Questions? Concerns?</a>
      </div>

      <!-- Spinner shown while loading -->
      <div id="spinner"></div>
      <div style="text-align:center;" id="loading-text">Loading the acrostic machine...</div>

      <!-- Controls hidden until Pyodide/swiglpk initialized -->
      <div id="controls">
        <form id="solver-form">
            <label for="quote-input">Quote</label>
            <textarea id="quote-input" rows="6"></textarea><br />

            <label for="source-input">Source</label>
            <input id="source-input" type="text" size="50" /><br />

            <label for="excluded-input">Words to exclude (comma-separated)</label>
            <input id="excluded-input" type="text" size="50" /><br />

            <label for="included-input">Words to *include* (comma-separated)</label>
            <input id="included-input" type="text" size="50" /><br />

            <button class="button-primary" id="solve-btn" type="submit">Create acrostic</button>
        </form>

        <button type="submit" id="wordlist-button" value="Upload wordlist">(Optional) Upload wordlist</button>

        <pre id="output"></pre>
      </div>
      <div class="row">
        Results can be imported into the <a href="https://jpd236.github.io/kotwords/acrostic.html">Kotwords acrostic JPZ generator.</a>
      </div>
    </div>

    <!-- Load Pyodide via classic script so loadPyodide() is global -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.27.6/full/pyodide.js"></script>
    <!-- Load the main acrostic JS -->
    <script src="acrostic.js"></script>
    <!-- Word list management -->
    <script src="wordlist.js"></script>
  </body>
</html>
